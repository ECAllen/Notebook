<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>websockets</title>
</head><body><br/>
// Client code JavaScript<br/>
// setup connection ws: or wss:<br/>
var connection = new WebSocket('ws://html5rocks.websocket.org/echo', ['soap', 'xmpp']);<br/>
<br/>
// When the connection is open, send some data to the server<br/>
connection.onopen = function () {<br/>
&nbsp; connection.send('Ping'); // Send the message 'Ping' to the server<br/>
};<br/>
<br/>
// Log errors<br/>
connection.onerror = function (error) {<br/>
&nbsp; console.log('WebSocket Error ' + error);<br/>
};<br/>
<br/>
// Log messages from the server<br/>
connection.onmessage = function (e) {<br/>
&nbsp; console.log('Server: ' + e.data);<br/>
};<br/>
<br/>
// Setting binaryType to accept received binary as either 'blob' or 'arraybuffer'<br/>
connection.binaryType = 'arraybuffer';<br/>
connection.onmessage = function(e) {<br/>
&nbsp; console.log(e.data.byteLength); // ArrayBuffer object if binary<br/>
};</body></html>